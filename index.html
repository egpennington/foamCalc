<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kenai FoamCalc</title>
  <link rel="stylesheet" href="./styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css" integrity="sha512-5Hs3dF2AEPkpNAR7UiOHba+lRSJNeM2ECkwxUIxC1Q/FLycGTbNapWXB4tP889k5T5Ju8fs4b1P5z/iB4nMfSQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
</head>
<body>
    <nav class="navbar">
        <div class="hamburger" onclick="toggleMenu()"><i class="fa-solid fa-bars"></i></div>
        <h1>Kenai Fire Foam Calculator <i class="fa-solid fa-fire-extinguisher"></i></h1>
    </nav>
    <div class="menu" id="menu">
      <ul class="menu-list">
        <li onclick="showAboutPopup()">
          <i class="fa-regular fa-circle-question" aria-label="About"></i> ABOUT
        </li>
        <li><a href="https://www.google.com/" target="_blank"><i class="fa-solid fa-magnifying-glass"></i> GOOGLE</a></li>
        <li><a href="https://www.phmsa.dot.gov/sites/phmsa.dot.gov/files/2024-04/ERG2024-Eng-Web-a.pdf" target="_blank"><i class="fa-solid fa-book"></i> ERG Guide</a></li>
      </ul>      
    </div>

    <article id="about-popup" class="about-popup">
      <button onclick="closeAboutPopup()" style="float: right; background: none; border: none; font-size: 1.9rem; cursor: pointer;">&times;</button>
      
      <h2>About</h2>
      <p>This app calculates fire foam requirements based on tank diameter, material, and capacity. The foam calculations are made using industry-standard formulas and are detailed below:</p>
      <h3>How Calculations Are Made</h3>
      <ul>
        <li><strong>Square Footage:</strong> The base area of the tank is calculated as the square of the diameter (diameter × diameter).</li>
        <li><strong>80% Coverage:</strong> Only 80% of the tank’s area is considered for foam application to account for practical coverage.</li>
        <li><strong>Critical Application Rate:</strong> This is calculated as 20% (0.2) of the 80% coverage area.</li>
        <li><strong>Foam Concentrate (1% and 3%):</strong>
          <ul>
            <li>For 1% foam: Multiply the critical application rate by 0.01 (1%).</li>
            <li>For 3% foam: Multiply the critical application rate by 0.03 (3%).</li>
          </ul>
        </li>
        <li><strong>Total Foam Required:</strong> Multiply the foam concentrate (1% or 3%) by 65 minutes for total usage over time.</li>
      </ul>

    </article>
  <div class="container">
    <p>Select a tank to calculate automatically. Use the "Recalculate" button if needed.</p>
    <label for="tankNumber">Select a Tank:</label>    
    <select name="tankNumber" id="tankNumber" onchange="calculateFoam()">
      <!-- Tank options will be populated dynamically -->
    </select>

    <button onclick="recalculateEffect()">Recalculate</button>

    <div id="results" class="results" style="display: none;">
      <div id="loading-message" style="display: none; text-align: center; font-size: 1.2rem; color: #007BFF;">
        <i class="fa fa-spinner fa-spin"></i> Recalculating...
      </div>
      <p><i class="fa-solid fa-location-dot"></i> <strong>Location:</strong> <span id="tankLocation"></span> </p>
      <p><strong>Tank Material:</strong> <span id="tankMaterial"></span></p>
      <p><strong>Tank Capacity:</strong> <span id="tankCapacity"></span> bbls</p>
      <p><strong>Tank Containment Basin:</strong> <span id="tankContainment"></span> bbls</p>
      <p><strong>Square Foot of Tank:</strong> <span id="sqFoot"></span></p>
      <p><strong>Critical Application Rate:</strong> <span id="criticalRate"></span> gallons per minute</p>
      <div class="foam-columns">
        <section>
          <h3>1% Foam</h3>
          <p><strong>GPM:</strong> <span id="foam1"></span></p>
          <p class="txt-sm"><strong>Total Concentrate Needed:</strong> <span id="totalFoam1"></span> gallons</p>
        </section>
        <section>
          <h3>3% Foam</h3>
          <p><strong>GPM:</strong> <span id="foam3"></span></p>
          <p class="txt-sm"><strong>Total Concentrate Needed:</strong> <span id="totalFoam3"></span> gallons</p>
        </section>
      </div>
    </div>    
  </div>
  <footer>pennington programming &copy; 2024</footer>
  <script src="./main.js" type="module"></script>
</body>
</html>

